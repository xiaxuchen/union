{"version":3,"sources":["webpack:///src/views/user/mine/components/AlterPassword.vue","webpack:///./src/views/user/mine/components/AlterPassword.vue?d690","webpack:///./src/views/user/mine/components/AlterPassword.vue","webpack:///src/views/user/mine/index.vue","webpack:///./src/views/user/mine/index.vue?1716","webpack:///./src/views/user/mine/index.vue","webpack:///src/views/admin/sysUser/components/UploadImage.vue","webpack:///./src/views/admin/sysUser/components/UploadImage.vue?d04d","webpack:///./src/views/admin/sysUser/components/UploadImage.vue"],"names":["pwdFormat","required","message","trigger","min","max","AlterPassword","components","BottomButtonDialog","data","pwdObj","originPwd","newPwd","confirmPwd","rules","concat","validator","this","props","visible","type","Boolean","computed","localVisible","get","set","value","$emit","methods","alterPassword","_this","$refs","validate","valid","$message","error","confirm","_this2","rule","callback","Error","components_AlterPassword","render","_vm","_h","$createElement","_c","_self","attrs","title","width","confirm-button","on","update:visible","$event","on-confirm","ref","model","label-width","label","prop","$$v","$set","expression","_v","staticRenderFns","mine_components_AlterPassword","__webpack_require__","normalizeComponent","ssrContext","mine","UploadImage","userInfo","alterVisible","mineInfo","$store","state","manager","watch","handler","newValue","extends_default","immediate","onImageChange","img","headImg","showAlterPwd","alterPwd","api","sysuser","commonThen","success","reset","saveUser","isAgent","name","updateUser","userId","id","isInValid","user_mine","staticClass","align","click","cur-image","on-image-change","disabled","span","placeholder","_e","alter","mine_Component","mine_normalizeComponent","__webpack_exports__","HeadImage","headers","Authorization","token","curImage","String","default","handleAvatarSuccess","response","components_UploadImage","show-file-list","action","baseURL","on-success","url","Component"],"mappings":"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","file":"js/6.eb229af6ac8e3c5fc78e.js","sourcesContent":["<template>\n    <div>\n      <bottom-button-dialog title=\"修改密码\" :visible.sync=\"localVisible\" width=\"30%\" confirm-button=\"修改\" @on-confirm=\"alterPassword\">\n        <el-form :model=\"pwdObj\" :rules=\"rules\" label-width=\"80px\" ref=\"pwdForm\">\n          <el-form-item label=\"原密码\" prop=\"originPwd\">\n            <el-input type=\"password\" v-model=\"pwdObj.originPwd\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"新密码\" prop=\"newPwd\">\n            <el-input type=\"password\" v-model=\"pwdObj.newPwd\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"确  认\" prop=\"confirmPwd\">\n            <el-input type=\"password\" v-model=\"pwdObj.confirmPwd\"></el-input>\n          </el-form-item>\n        </el-form>\n      </bottom-button-dialog>\n    </div>\n</template>\n\n<script>\nimport BottomButtonDialog from '@/components/BottomButtonDialog'\n// 密码统一的校验规则\nconst pwdFormat = [{ required: true, message: '此为必填项', trigger: 'blur' },\n  { min: 8, max: 32, message: '长度在8到32个字符之间', trigger: 'blur' }]\nexport default {\n  components: {BottomButtonDialog},\n  data: function () {\n    return {\n      pwdObj: {\n        originPwd: '',\n        newPwd: '',\n        confirmPwd: ''\n      },\n      rules: {\n        originPwd: [\n          ...pwdFormat\n        ],\n        newPwd: [\n          ...pwdFormat\n        ],\n        confirmPwd: [\n          ...pwdFormat,\n          {validator: this.confirmPwd(true), trigger: ['change', 'blur']}\n        ]\n      }\n    }\n  },\n  props: {\n    visible: {\n      type: Boolean\n    }\n  },\n  computed: {\n    localVisible: {\n      get () {\n        return this.visible\n      },\n      set (value) {\n        this.$emit('update:visible', value)\n      }\n    }\n  },\n  methods: {\n    alterPassword () {\n      this.$refs['pwdForm'].validate((valid) => {\n        if (valid && this.pwdObj.newPwd === this.pwdObj.confirmPwd) {\n          this.$emit('alter', this.pwdObj)\n        } else {\n          this.$message.error('格式错误!!')\n          return false\n        }\n      })\n    },\n    /**\n     * @param confirm 是否为confirm\n     * @returns {Function} 验证函数\n     */\n    confirmPwd (confirm) {\n      return (rule, value, callback) => {\n        const other = confirm ? this.pwdObj.newPwd : this.pwdObj.confirmPwd\n        if (value !== other) {\n          callback(new Error('两次输入密码不一致!'))\n        } else {\n          callback()\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/user/mine/components/AlterPassword.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('bottom-button-dialog',{attrs:{\"title\":\"修改密码\",\"visible\":_vm.localVisible,\"width\":\"30%\",\"confirm-button\":\"修改\"},on:{\"update:visible\":function($event){_vm.localVisible=$event},\"on-confirm\":_vm.alterPassword}},[_c('el-form',{ref:\"pwdForm\",attrs:{\"model\":_vm.pwdObj,\"rules\":_vm.rules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"原密码\",\"prop\":\"originPwd\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.pwdObj.originPwd),callback:function ($$v) {_vm.$set(_vm.pwdObj, \"originPwd\", $$v)},expression:\"pwdObj.originPwd\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"新密码\",\"prop\":\"newPwd\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.pwdObj.newPwd),callback:function ($$v) {_vm.$set(_vm.pwdObj, \"newPwd\", $$v)},expression:\"pwdObj.newPwd\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"确  认\",\"prop\":\"confirmPwd\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.pwdObj.confirmPwd),callback:function ($$v) {_vm.$set(_vm.pwdObj, \"confirmPwd\", $$v)},expression:\"pwdObj.confirmPwd\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-585984df\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/mine/components/AlterPassword.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-585984df\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AlterPassword.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AlterPassword.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AlterPassword.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-585984df\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AlterPassword.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-585984df\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/mine/components/AlterPassword.vue\n// module id = null\n// module chunks = ","<template>\n    <div class=\"mine\">\n      <el-row>\n        <el-col align=\"right\">\n          <el-button type=\"text\" @click=\"showAlterPwd\">修改密码</el-button>\n        </el-col>\n      </el-row>\n      <el-form>\n        <el-form-item align=\"center\" >\n          <upload-image @on-image-change=\"onImageChange\" :cur-image=\"userInfo.headImg\"/>\n        </el-form-item>\n        <el-form :model=\"userInfo\" label-width=\"100px\">\n          <el-form-item label=\"登录名\" prop=\"username\">\n            <el-input v-model=\"userInfo.username\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"电话\" >\n            <el-input v-model=\"userInfo.phone\" />\n          </el-form-item>\n          <template v-if=\"userInfo.isAgent\" style=\"margin-left: -10px;\">\n            <el-row>\n              <el-col :span=\"12\">\n                <el-form-item label=\"姓名\" prop=\"name\">\n                  <el-input v-model=\"userInfo.name\"></el-input>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"12\">\n                <el-form-item label=\"性别\">\n                  <el-select v-model=\"userInfo.sex\" placeholder=\"请选择性别\">\n                    <el-option label=\"未知\" :value=\"0\"></el-option>\n                    <el-option label=\"男\" :value=\"1\"></el-option>\n                    <el-option label=\"女\" :value=\"2\"></el-option>\n                  </el-select>\n                </el-form-item>\n              </el-col>\n            </el-row>\n            <el-form-item label=\"自我简介\" prop=\"des\">\n              <el-input type=\"textarea\" v-model=\"userInfo.des\"></el-input>\n            </el-form-item>\n          </template>\n          <el-form-item align=\"right\">\n            <el-button @click=\"reset\">恢复</el-button>\n            <el-button type=\"primary\" @click=\"saveUser\">保存</el-button>\n          </el-form-item>\n        </el-form>\n      </el-form>\n      <alter-password :visible.sync=\"alterVisible\" @alter=\"alterPwd\"></alter-password>\n    </div>\n</template>\n\n<script>\nimport AlterPassword from './components/AlterPassword'\nimport UploadImage from '@/views/admin/sysUser/components/UploadImage'\nexport default {\n  components: {\n    UploadImage,\n    AlterPassword\n  },\n  data () {\n    return {\n      userInfo: {},\n      alterVisible: false\n    }\n  },\n  computed: {\n    mineInfo () {\n      return this.$store.state.manager.manager\n    }\n  },\n  watch: {\n    mineInfo: {\n      handler (newValue) {\n        this.userInfo = {...newValue}\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    onImageChange (img) {\n      this.userInfo.headImg = img\n    },\n    showAlterPwd () {\n      this.alterVisible = true\n    },\n    alterPwd (pwdObj) {\n      this.api.sysuser.alterPwd(pwdObj.originPwd, pwdObj.newPwd)\n        .commonThen((success, data) => {\n          if (success && data) {\n            this.$message('密码修改成功')\n            this.alterVisible = false\n          }\n        }, this)\n    },\n    // 重置\n    reset () {\n      this.userInfo = this.mineInfo\n    },\n    saveUser () {\n      const userInfo = this.userInfo\n      if (userInfo.isAgent) {\n        if (!userInfo.name) {\n          this.$message.error('客户经理的名字不能为空')\n          return\n        }\n      }\n      this.api.sysuser.updateUser({\n        userId: userInfo.id,\n        ...userInfo,\n        isInValid: false\n      }).commonThen((success) => {\n        if (success) {\n          this.$message('保存成功')\n        }\n      }, this)\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n  .mine {\n    padding: 20px 30px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/user/mine/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mine\"},[_c('el-row',[_c('el-col',{attrs:{\"align\":\"right\"}},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.showAlterPwd}},[_vm._v(\"修改密码\")])],1)],1),_vm._v(\" \"),_c('el-form',[_c('el-form-item',{attrs:{\"align\":\"center\"}},[_c('upload-image',{attrs:{\"cur-image\":_vm.userInfo.headImg},on:{\"on-image-change\":_vm.onImageChange}})],1),_vm._v(\" \"),_c('el-form',{attrs:{\"model\":_vm.userInfo,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"登录名\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"disabled\":true},model:{value:(_vm.userInfo.username),callback:function ($$v) {_vm.$set(_vm.userInfo, \"username\", $$v)},expression:\"userInfo.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"电话\"}},[_c('el-input',{model:{value:(_vm.userInfo.phone),callback:function ($$v) {_vm.$set(_vm.userInfo, \"phone\", $$v)},expression:\"userInfo.phone\"}})],1),_vm._v(\" \"),(_vm.userInfo.isAgent)?[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.userInfo.name),callback:function ($$v) {_vm.$set(_vm.userInfo, \"name\", $$v)},expression:\"userInfo.name\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"性别\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择性别\"},model:{value:(_vm.userInfo.sex),callback:function ($$v) {_vm.$set(_vm.userInfo, \"sex\", $$v)},expression:\"userInfo.sex\"}},[_c('el-option',{attrs:{\"label\":\"未知\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"男\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"女\",\"value\":2}})],1)],1)],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"自我简介\",\"prop\":\"des\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.userInfo.des),callback:function ($$v) {_vm.$set(_vm.userInfo, \"des\", $$v)},expression:\"userInfo.des\"}})],1)]:_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"align\":\"right\"}},[_c('el-button',{on:{\"click\":_vm.reset}},[_vm._v(\"恢复\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveUser}},[_vm._v(\"保存\")])],1)],2)],1),_vm._v(\" \"),_c('alter-password',{attrs:{\"visible\":_vm.alterVisible},on:{\"update:visible\":function($event){_vm.alterVisible=$event},\"alter\":_vm.alterPwd}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3f7fd33e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/mine/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3f7fd33e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3f7fd33e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3f7fd33e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/mine/index.vue\n// module id = null\n// module chunks = ","<template>\n    <div>\n      <el-upload\n        class=\"avatar-uploader\"\n        :show-file-list=\"false\"\n        :action=\"api.baseURL + '/resource/file'\"\n        :on-success=\"handleAvatarSuccess\"\n        :headers=\"headers\"\n        >\n        <head-image v-if=\"curImage\" :url=\"curImage\" class=\"avatar\" />\n        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n      </el-upload>\n    </div>\n</template>\n\n<script>\nimport HeadImage from '@/components/HeadImage'\nexport default {\n  components: {HeadImage},\n  data () {\n    return {\n      headers: {Authorization: this.$store.state.manager.token}\n    }\n  },\n  props: {\n    curImage: {\n      type: String,\n      default: ''\n    }\n  },\n  methods: {\n    handleAvatarSuccess (response) {\n      let data = response\n      if (data.success) {\n        this.$emit('on-image-change', data.data)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n  .avatar-uploader {\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n    width: 64px;\n    height: 64px;\n    i {\n      border-radius: 6px;\n      display: block;\n      width: 60px;\n      height: 60px;\n      border: 1px dashed #d9d9d9;\n    }\n  }\n  .avatar-uploader:hover {\n    border-color: #409EFF;\n  }\n  .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 64px;\n    height: 64px;\n    line-height: 64px;\n    text-align: center;\n  }\n  .avatar {\n    width: 64px;\n    height: 64px;\n    display: block;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/admin/sysUser/components/UploadImage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"show-file-list\":false,\"action\":_vm.api.baseURL + '/resource/file',\"on-success\":_vm.handleAvatarSuccess,\"headers\":_vm.headers}},[(_vm.curImage)?_c('head-image',{staticClass:\"avatar\",attrs:{\"url\":_vm.curImage}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ac550fee\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/admin/sysUser/components/UploadImage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ac550fee\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./UploadImage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./UploadImage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./UploadImage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ac550fee\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./UploadImage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ac550fee\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/admin/sysUser/components/UploadImage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}